{{> header/defaultHeader LoggedInUser = LoggedInUser}}
<section>
	<div class="">
		<div class="container">
			<div class="row">
				<div class="col-md-6 col-12">
					<ul class="breadcrumb">
						<li>
							<a href="check_out2.html">1. Customer Inforamation</a>
						</li>
						<li>
							<a href="check_out3.html">2. Shipping Method</a>
						</li>
						<li>
							<a href="check_out4.html" class="active1">3. Payment Method</a>
						</li>
						<li>
							<a href="checkout_thankyou.html">4. Confirmation</a>
						</li>
					</ul>
				</div>
				<div class="col-md-6 col-12">
					<p class="log_sunnysarpel">You're logged in as
						<span class="span_sunnysarpel">SunnySarpel</span>
						<a href="#" class="span_swichaccount">SWITCH ACCOUNT</a>
					</p>
				</div>
			</div>
			<div class="row checkout_bg_color ">
				<div class="col-md-9 col-12 common_padding1 ">
					<h4 class="checkout_title_color">PAYMENT METHOD</h4>
					<div class="row">
						<div class="col-md-9 col-12">
							<div class="container">
								<div class="row">
									<div class="col-md-3 col-12 checkout_cont">
										<p>
											<b>Payment Method</b>
										</p>
									</div>
									<div class="col-md-9 col-12 checkout_cont">

										<p></p>
										<div class="row">
											<div class="col-md-4 col-12 common_padding1">
												<select class="geo_textbox">
													<option>Credit Card</option>
												</select>
											</div>
											<div class="col-md-8 col-12 common_padding1">
												<img src="../img/card.png" alt="pay" style="width: 200px; float:right;" />
											</div>
										</div>





										<div class="row">
											<div class="col-md-12 col-12 common_padding1 gtc-stripe-all-elements" style="margin-top: 15px;">
												<form id="stripe-card-transaction-form" name="stripe-card-transaction-form" onsubmit="return false">
													<div class="pyt_group">
														<label class="pyt_label">
															<input id="cardholder-name" name="cardholder-name" class="pyt_field" placeholder="Card Holder Name" required/>
														</label>
													</div>
													<div class="pyt_group">
														<label class="pyt_label">
															<div id="gtc-stripe-card-element" class="pyt_field"></div>
														</label>
													</div>
													<div id="stripe-error-validation" class="alert alert-warning" style="display:none;"></div>

													<input type="submit" id="complete-order-submit" value="COMPLETE ORDER" class="shop_checkout_btn" style="float:right;" />

													<img src="../img/card1.png" alt="payment method Image">

												</form>
											</div>
										</div>



								{{!-- 	<div class="row">
											<div class="col-md-12 col-12 common_padding1">
												<input type="text" placeholder="Card Number" class="geo_textbox" style="width: 99%" />
											</div>
										</div>
										<div class="row">
											<div class="col-md-5 col-12 common_padding1">
												<input type="text" placeholder="Name On Card" class="geo_textbox" />
											</div>
											<div class="col-md-4 col-12 common_padding1">
												<input type="text" placeholder="MM/YY" class="geo_textbox" />
											</div>
											<div class="col-md-3 col-12 common_padding1">
												<div class="input-group">
													<input type="text" class="form-control geo_textbox" placeholder="CVV">
													<span class="promo_code_text_span">
														<i class="fas fa-question-circle"></i>
													</span>
												</div>

											</div>
										</div>  
										<div class="row">
											<div class="col-md-7 col-12">
												<p>
													<label class="login-checkbox1">
														<input type="checkbox">
														<i></i> Remember this card for future orders</label>
												</p>

											</div>
											<div class="col-md-5 col-12">
												<a href="checkout_thankyou.html">
													<input type="submit" value="COMPLETE ORDER" class="shop_checkout_btn" />
												</a>
											</div>
										</div>
										<div class="row">
											<div class="col-md-7 col-12">

											</div>
											<div class="col-md-5 col-12">
												<img src="../img/card1.png" alt="payment">
											</div>
										</div>
									--}}

									</div>
								</div>

							</div>

						</div>
						<hr/>

					</div>

				</div>
				<div class="col-md-3 col-12  common_padding1 your_order_bg">
					<h4 class="checkout_title_color_1">YOUR ORDER</h4>
					<div class="col-md-12 col-12">
						<div class="container">
							<h6 class="yourorder_wholesalesum_head">Wholesale Summary</h6>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">$8,763.00</p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_shipping">Shipping Ground</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_shipping float-right">$314.52</p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">$9,283.00</p>
								</div>
							</div>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">
										<b>WHOLESALE TOTAL</b>
									</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">
										<b>$9,077.52</b>
									</p>
								</div>
							</div>

							<h6 class="yourorder_shopsum_head">Shop Summary</h6>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">$8,763.00</p>
								</div>
							</div>

							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">
										<b>WHOLESALE TOTAL</b>
									</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">
										<b>$9,077.52</b>
									</p>
								</div>
							</div>

							<h6 class="yourorder_servicesum_head">Service Summary</h6>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">$8,763.00</p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_shipping">Shipping Ground</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_shipping float-right">$314.52</p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col4">
									<p class="shop_subtotal float-right">$9,283.00</p>
								</div>
							</div>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">
										<b>WHOLESALE TOTAL</b>
									</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">
										<b>$9,077.52</b>
									</p>
								</div>
							</div>

							<h6 class="yourorder_subscriptionsum_head">Subscription Summary</h6>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">$8,763.00</p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_shipping">Shipping Ground</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_shipping float-right">$314.52</p>
								</div>
							</div>
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">Subtotal</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">$9,283.00</p>
								</div>
							</div>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">
										<b>WHOLESALE TOTAL</b>
									</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">
										<b>$9,077.52</b>
									</p>
								</div>
							</div>
							<hr class="common_margin" />
							<div class="row">
								<div class="col-md-8 col-8">
									<p class="shop_subtotal">
										<b>GRAND TOTAL</b>
									</p>
								</div>
								<div class="col-md-4 col-4">
									<p class="shop_subtotal float-right">
										<b>$19,077.52</b>
									</p>
								</div>
							</div>
							<hr class="common_margin" />
							<p class="promo_code_p">Promo Code #83749 Applied
								<br/>
								<b>- 20% OFF</b>
							</p>

						</div>
					</div>

				</div>
			</div>
		</div>
	</div>
</section>
{{> footer/footer}}

<script src="https://js.stripe.com/v3/"></script>



<script>

	var stripe = Stripe('pk_test_KkiCbBzsJjeJVQwyW2UA5RJa');

	var elements = stripe.elements({
		fonts: [{
			cssSrc: 'https://fonts.googleapis.com/css?family=Oswald:300,400,500,600,700|Roboto:300,400,500',
		}],
		locale: 'auto'
	});

	var card = elements.create('card', {
		hidePostalCode: true,
		style: {
			base: {
				iconColor: '#666EE8',
				color: '#31325F',
				fontWeight: 500,
				fontFamily: 'HomePlanet-Regular, sans-serif',
				fontSize: '16px',
				lineHeight: '38px',
				fontSmoothing: 'antialiased',
				
				'::placeholder': {
					color: '#b1afaf'
				}
			},
		}
	});

	card.mount('#gtc-stripe-card-element');


	function setOutcome(result) {
		var errorElement = $('#stripe-error-validation')
		errorElement.css("display","none");

		console.log(result)

		if (result.token) {
			//token part

		} else if (result.error) {
			errorElement.text(result.error.message);
			errorElement.css("display","block");
		}
	}

	card.on('change', function (event) {
		setOutcome(event);
	});



$('#stripe-card-transaction-form').submit(function(e){
	
	$('#complete-order-submit').prop('disabled', true);
	$('#complete-order-submit').css({'cursor' : "not-allowed"});

		let extraDetails = {
			name: $('#stripe-card-transaction-form input[name=cardholder-name]').val(),
		};
	
		stripe.createToken(card, extraDetails).then(setOutcome);
})



</script>