<style>
	.message-box-input .form-control {
		border-radius: unset;
		box-shadow: none;
		background-color: #f5f5f5;
		margin: 8px;
	}
</style>

<script type="text/javascript">
	$(document).ready(function () {
		$('#message').summernote({
			placeholder: 'Type Message',
			tabsize: 2,
			height: 200
		});

			$('#sent').click(function (e) {
	
				e.preventDefault();
				var sentInput = {};
	
				sentInput.to = $('#toAddress').val();
				sentInput.subject = $('#subject').val();
				sentInput.message = $('#message').val();

				console.log("==================================",sentInput);
	
				/*$.ajax({
					url: 'api/mail',
					type: 'POST',
					data: sentInput,
					success: function (data) {
						console.log(data);
					},
					error: function (error) {
						console.log(error);
					}
				})*/
			})
		/*	$('#draft').click(function (e) {
	
				e.preventDefault();
				var sentInput = {};
	
				DraftInput.to = $('#to').val();
				DraftInput.subject = $('#subject').val();
				DraftInput.message = $('#message').val();
	
				$.ajax({
					url: 'api/mail/draft',
					type: 'POST',
					data: DraftInput,
					success: function (data) {
						console.log(data);
					},
					error: function (error) {
						console.log(error);
					}
				})
			})*/
	});

	$(function () {
		var availableTags;

		$("#toAddress").tagit({
			autocomplete: {
				source: function (request, response) {
					$.ajax({
						url: "api/mail/autoCompleteFirstName?keyword="+request.term,
						type: 'GET',
						dataType: "json",
						success: function (users) {
							response(
								$.map(users, function(user){							
									return {
										 label: user.first_name,
										 value: user.first_name
									}
								})
							);
						},
						error: function(error){
						}
					});
				},
				minLength: 2,
			}
		});

	});

</script> {{> header/top-header LoggedInUser = LoggedInUser}} {{> vendor/vendor-menu}}

<div class="wrapper-content bg-gray">
	<div class="gtc-container">
		<div class="row">
			<div class="col-sm-2">
				{{> vendor/vendor-side-navbar}}
			</div>
			<div class="col-sm-10">
				<div class="ibox">
					<div class="ibox-content">
						<div class="content-body">
							<p class="content-txt"></p>
							<div class="container main-section">
								<div class="row">
									<div class="col-lg-12 border main-section bg-white ">
										<div class="row">
											<div class="col-lg-6">
												<h3 class="pt-2">Compose Email</h3>
											</div>
										</div>
										<form id="emailForm">
											<div class="col-lg-12 p-0 message-box-input">
												<div class="form-group">
													<ul id="toAddress"></ul>
													<input type="text" class="form-control" id="subject" name="subject" placeholder="Subject">
													<textarea class="form-control" id="message" name="message"></textarea>
												</div>
											</div>
											<div class="co-lg-12 message-box-last-content p-2">
												<button type="submit" id="sent" class="btn btn-success">Send</button>
												<button type="submit" id="draft" class="btn btn-light">Draft</button>
												<button type="submit" class="btn btn-danger">Discard</button>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
{{> footer/bottom-footer}}