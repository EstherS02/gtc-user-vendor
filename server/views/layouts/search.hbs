<script type="text/javascript">
	function updateQueryStringParameter(uri, key, value) {
		var re = new RegExp("([?&])" + key + "=.*?(&|$)", "i");
		var separator = uri.indexOf('?') !== -1 ? "&" : "?";
		if (uri.match(re)) {
			return uri.replace(re, '$1' + key + "=" + value + '$2');
		} else {
			return uri + separator + key + "=" + value;
		}
	}

	function appendLocation(location) {
		var url = window.location.search;
		var arr = url.split("&location")[0];
		console.log("arr", arr);
		var newQuery = arr + "&location=" + location;
		window.location.href = window.location.origin + "/search" + newQuery;
	}

	function global() {
		var url = window.location.search;
		var arr = url.split("&location")[0];
		var newQuery = arr;
		window.location.href = window.location.origin + "/search" + newQuery;
	}

	function globalSearch() {
		window.location.href = window.location.origin + "/search";
	}
</script>
{{> header/defaultHeader LoggedInUser = LoggedInUser}}
<section>
	<div>
		<div class="container">
			<div class="row">
				<div class="col-md-6">
					<ul class="breadcrumb" style="padding: 8px;">
						<li>
							<a href="#" class="active">North America</a>
						</li>
						<li>
							<a href="#" class="active">Private Wholesale</a>
						</li>
						<li>Search</li>
					</ul>
				</div>
				<div class="col-md-6">
					<p class="see_all float-right" style="margin: 10px;">
						<i class="fas fa-star" style="color: #C80527;"></i> POST AN AD IN THIS CATEGORY
						<i class="fa fa-caret-right"></i>
					</p>
				</div>
			</div>

			<div class="row">
				<div class="col-md-7">
					<p class="showing_res1">Showing
						<b>{{SUMFloat queryPaginationObj.offset 1}}-{{SUMFloat queryPaginationObj.limit queryPaginationObj.offset}}</b> of
						<b>{{collectionSize}}</b> Products matching
						{{#if queryPaginationObj.keyword}}
						<span><b>"{{queryPaginationObj.keyword}}"</b>{{/if}}</span>
						{{#if selectedMarketPlace}}
						in the <span class="showing_global_col">{{selectedMarketPlace.name}}</span>
						{{/if}}
					</p>
				</div>
				<div class="col-md-5">
					<div class="row">
						<div class="col-md-1">
							<p class="showing_res1">View</p>
						</div>
						<div class="col-md-1">
							<i class="fas fa-th-large icon_active_showing_res"></i>
						</div>
						<div class="col-md-1">
							<a href="wholesale_result2.html">
								<i class="fas fa-list-ul"></i>
							</a>
						</div>
						<div class="col-md-3">
							<p class="float-right">Sort by</p>
						</div>
						<div class="col-md-6">
							<select class="geo_textbox">
								<option>Alphabetical</option>
							</select>
						</div>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-3 showing_categ">
					<p><b>FILTER BY CATEGORY</b></p>
					<p class="cat_bg_title">
						<a href="../search?{{QueryParams queryURI (FrameObject) 'category&sub_category'}}">
							<span>ALL CATEGORIES ({{categories.count}})</span>
						</a>
					</p>
					<div class="list-group panel category-fixed">
						<ul class="list-group">
							{{#each categories.rows}}
							<li class="list-group-item">
								<a data-toggle="collapse" href="#collapseCategory{{this.id}}" role="button" aria-expanded="false" aria-controls="collapseCategory{{this.id}}">
									<span>{{this.name}} {{!-- (263) --}}</span>
								</a>
								<ul class="list-group collapse" id="collapseCategory{{this.id}}">
									{{#each this.SubCategories}}
									<li class="list-group-item">
										<a href="../search?{{QueryParams ../../queryURI (FrameObject category=../this.id sub_category=this.id) 'null'}}">
											<span>{{this.name}}</span>
										</a>
										<ul></ul>
									</li>
									{{/each}}
								</ul>
							</li>
							{{/each}}
						</ul>
					</div>
					<p style="margin-top: 20px;"><b>FILTER BY TYPE</b></p>
					<p class="cat_bg_title">
						<a href="../search?{{QueryParams queryURI (FrameObject marketplace=marketPlace.WHOLESALE) 'marketplace_type'}}">
							<span>ALL TYPES ({{marketPlaceTypes.count}})</span>
						</a>
					</p>
					<div class="list-group panel">
						<ul class="list-group">
							{{#each marketPlaceTypes.rows}}
							<li class="list-group-item">
								<a {{#ifCond ../selectedMarketPlaceType "==" this.id}} class="text-black" {{/ifCond}} href="../search?{{QueryParams ../queryURI (FrameObject marketplace=../marketPlace.WHOLESALE marketplace_type=this.id) 'null'}}">
									<span>{{this.code}} - {{this.name}} ({{this.product_count}})</span>
								</a>
							</li>
							{{/each}}
						</ul>
					</div>
					<p style="margin-top: 20px;"><b>FILTER BY LOCATION</b></p>
					<p class="cat_bg_title">
						<a href="../search?{{QueryParams queryURI (FrameObject) 'location'}}">
							<span>GLOBAL ({{locations.count}})</span>
						</a>
					</p>
					<div class="list-group panel category-fixed">
						<ul class="list-group">
							{{#each locations.rows}}
								<li class="list-group-item">
									<a {{#ifCond ../selectedLocation "==" this.id}} class="text-black" {{/ifCond}} href="../search?{{QueryParams ../queryURI (FrameObject location=this.id) 'null'}}">
										<span>{{this.name}} ({{this.product_count}})</span>
									</a>
								</li>
							{{/each}}
						</ul>
					</div>
				</div>
				<div class="col-md-9">
					<div class="row col-md-12 showing_categ" style="padding: 6px;">
						<div class="col-md-6">
							<p style="margin-bottom: 0px">
								<b>TOP PRODUCTS |
									<a href="#">SEE ALL</a>
									<i class="fas fa-caret-right"></i>
								</b>
							</p>
						</div>
						<div class="col-md-6">
							<p style="margin-bottom: 0px;" class="float-right">Your product deserves to be on top.
								<span style="color: #8999C0;">Learn more about our Top Ad feature.</span>
							</p>
						</div>
					</div>
					<div class="row">
						{{#each topProductResults}}
						<div class="col-md-4 common_top">
							<div class="row">
								<div class="col-md-3">
									<img src="{{this.product_base_image}}" style="width: 30px; height: 70px;">
								</div>
								<div class="col-md-9">
									<div class="row common_padding">
										<div class="col-md-8">
											<p class="wts_header">
												<a href="/product/{{this.product_slug}}/{{this.id}}">WTS - {{this.product_name}}</a>
											</p>
										</div>
										<div class="col-md-4">
											<p>MOQ: 40</p>
										</div>
									</div>
									<div class="row common_padding">
										<div class="col-md-3">
											<p>Origin</p>
										</div>
										<div class="col-md-5">
											<p>{{this.country_name}}</p>
										</div>
										<div class="col-md-4">
											<p>&nbsp;</p>
										</div>
									</div>
									<div class="row common_padding">
										<div class="col-md-3">
											<p>Category</p>
										</div>
										<div class="col-md-5">
											<p>{{this.category_name}} - {{this.sub_category_name}}</p>
										</div>
										<div class="col-md-4">
											<p>Seller Rating</p>
										</div>
									</div>
									<div class="row common_padding">
										<div class="col-md-3">
											<p>Seller</p>
										</div>
										<div class="col-md-5">
											<p>{{#if ../LoggedInUser.email}}
												<a>{{this.vendor_name}}</a>
												{{else}}
												<a href="/login">(Login for Seller Info)</a>
											{{/if}}</p>
										</div>
										<div class="col-md-4">
											<p>{{ starCount this.product_rating}}</p>
										</div>
									</div>
								</div>
							</div>
						</div>
						{{/each}}
					</div>
					<div class="row col-md-12 showing_categ" style="padding: 6px;margin-top: 10px; margin-bottom: 10px;">
					</div>
					<div class="row">
						{{#each productResults}}
						<div class="col-md-4 common_top">
							<div class="row">
								<div class="col-md-3">
									<img src="{{this.product_base_image}}" style="width: 30px; height: 70px;">
								</div>
								<div class="col-md-9">
									<div class="row common_padding">
										<div class="col-md-8">
											<p class="wts_header">
												<a href="/product/{{this.product_slug}}/{{this.id}}">WTS - {{this.product_name}}</a>
											</p>
										</div>
										<div class="col-md-4">
											<p>MOQ: 40</p>
										</div>
									</div>
									<div class="row common_padding">
										<div class="col-md-3">
											<p>Origin</p>
										</div>
										<div class="col-md-5">
											<p>{{this.country_name}}</p>
										</div>
										<div class="col-md-4">
											<p>&nbsp;</p>
										</div>
									</div>
									<div class="row common_padding">
										<div class="col-md-3">
											<p>Category</p>
										</div>
										<div class="col-md-5">
											<p>{{this.category_name}} - {{this.sub_category_name}}</p>
										</div>
										<div class="col-md-4">
											<p>Seller Rating</p>
										</div>
									</div>
									<div class="row common_padding">
										<div class="col-md-3">
											<p>Seller</p>
										</div>
										<div class="col-md-5">
											<p>{{#if ../LoggedInUser.email}}
												<a>{{this.vendor_name}}</a>
												{{else}}
												<a href="/login">(Login for Seller Info)</a>
												{{/if}}
											</p>
										</div>
										<div class="col-md-4">
											<p>{{ starCount this.product_rating}}</p>
										</div>
									</div>
								</div>
							</div>
						</div>
						{{/each}}
					</div>
					<div class="row col-md-12 showing_categ" style="padding: 6px;margin-top: 10px; margin-bottom: 10px;">
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-md-3">
				</div>
				<div class="col-md-7">
					{{#pagination collectionSize queryPaginationObj.page queryPaginationObj.limit queryPaginationObj.maxSize}}
					<nav aria-label="Page navigation example">
						<ul class="pagination justify-content-center">
							{{#unless startFromFirstPage}}
							<li class="page-item">
								<a class="page-link" href="../search?{{QueryParams ../queryURI (FrameObject page=(DiffFloat ../queryPaginationObj.page 1) limit=../queryPaginationObj.limit) 'null'}}">Previous</a>
							</li>
							{{/unless}} {{#each pages}}
							<li class="page-item {{#if isCurrent}} active {{/if}}">
								<a class="page-link" href="../search?{{QueryParams ../../queryURI (FrameObject page=page limit=../../queryPaginationObj.limit) 'null'}}">{{page}}</a>
							</li>
							{{/each}} {{#unless endAtLastPage}}
							<li class="page-item">
								<a class="page-link" href="../search?{{QueryParams ../queryURI (FrameObject page=(SUMFloat ../queryPaginationObj.page 1) limit=../queryPaginationObj.limit) 'null'}}">Next</a>
							</li>
							{{/unless}}
						</ul>
					</nav>
					{{/pagination}}
				</div>
			</div>
		</div>
	</section>
	{{> footer/footer}}