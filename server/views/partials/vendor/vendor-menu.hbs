{{#if LoggedInUser.Vendor}}
<div class="vendor-body">
    <div class="vendor-menu-wrapper">
        <div class="gtc-container">
            <nav class="navbar navbar-expand-sm vendor-menu">
                <a class="navbar-brand" href="/reporting">
                {{#if this.LoggedInUser.Vendor.vendor_profile_pic_url}}
                <img  src="{{LoggedInUser.Vendor.vendor_profile_pic_url}}" width="60" height="40" class="d-inline-block object-fit" alt="">
                {{else}}
                <img src="gtc-assets/img/test-user.png" width="60" height="40" class="d-inline-block object-fit" alt="">
                {{/if}}
                    <span class="vendor-name">{{LoggedInUser.Vendor.vendor_name}}</span>
                </a>
                <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#vendorNavBar" aria-controls="vendorNavBar" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="navbar-collapse collapse" id="vendorNavBar">
                    <ul class="navbar-nav vendor-nav">
						<li class="nav-item">
							<a href="javascript:;" class="nav-link" style="cursor:default"><b>Current Plan:
								{{#ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.STARTER_SELLER}} Starter Seller
								{{else ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.SERVICE_PROVIDER}} Service Provider 
								{{else ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.LIFESTYLE_PROVIDER}} Lifestyle Provider
								{{else ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.PUBLIC_SELLER}} Retailer
								{{else ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.BULK_BUYER}} Bulk buyer
								{{else ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.WHOLESALER}} Wholesaler 
								{{/ifCond}}</b>
							</a>
						</li>
                        {{#ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.WHOLESALER}}
                            <li class="nav-item"><a href="listings/wholesale" class="nav-link">Wholesale</a></li>
                        {{else ifCond LoggedInUser.Vendor.VendorPlans.[0].plan_id '==' vendorPlan.BULK_BUYER}}
                            <li class="nav-item"><a href="listings/wholesale" class="nav-link">Wholesale</a></li>
                        {{/ifCond}}
						<li class="nav-item"><a href="/gtc-mail/inbox" class="nav-link">Inbox
                        <div  class="messages UnreadMessages"></div></a></li>
                        <li class="nav-item"><a href="/messages" class="nav-link">Messages <strong><small id="msg-count"></small></strong>
                        </a></li>
                        <li class="nav-item"><a href="/notifications" class="nav-link">Notifications<strong><small class="messages" id="notificationCount"></small></strong></a></li>
                        <li class="nav-item"><a href="/promote-store" class="nav-link">Promote Your Store</a></li>
                        <li class="nav-item"><a href="/dashboard-vendor-connect" class="nav-link">Build Your Store</a></li>
                    </ul>	
                    <a href="/vendor/support/{{this.LoggedInUser.Vendor.id}}"><span class="support">Support</span></a>
                </div>
            </nav>
        </div>
    </div>
</div>

<script type="text/javascript">
    $( document ).ready(function() {
          $('#msg-count').hide();
         $.ajax({
            type: 'GET',
            url: '/api/talk/talk-count',
            success: function (data) {
              if(data.length > 0) {
                $('#msg-count').show();
                document.getElementById('msg-count').innerHTML = `<small class="vendor-bar-chat-count"> `+data.length +`</small>`; 
              }
            },
            error: function (error) {
                console.log(error);
            }
        })
         socket.on('connect', () => {
            socket.on('chat:count:receive', function(result){
                 document.getElementById('msg-count').innerHTML = `<small class="vendor-bar-chat-count"> `+result +`</small>`; 
            }) 
         })

        $.ajax({
            type: 'GET',
            url: '/api/notification/notification-count',
            success: function (data) {
                if(data.NotificationCount>0){
                   $("#notificationCount").html(data.NotificationCount);
                }      
            },
            error: function (error) {
                console.log(error);
            }
        });
    });
    
</script>
{{/if}}

